{"ast":null,"code":"var _jsxFileName = \"/Users/samzimmerman/Documents/Apps/Website/src/Weather/Chart.tsx\";\nimport * as d3 from \"d3\";\nimport React, { useRef, useEffect } from \"react\";\n\nfunction BarChart({\n  width,\n  height,\n  data\n}) {\n  const ref = useRef(null);\n  var yScale = d3.scaleLinear().domain([0, 60]).range([0, height - 100]);\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n    svg.attr(\"width\", width).attr(\"height\", height).style(\"border\", \"1px solid black\"); // .append(\"g\")\n    // .call(d3.axisRight(yScale));\n\n    svg.call(yAxis);\n  }, []);\n  useEffect(() => {\n    draw();\n  }, [data]);\n\n  let yAxis = g => g.attr(\"transform\", `translate(0,${height - 30})`).call(d3.axisBottom(yScale).ticks(width / 80).tickSizeOuter(0));\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(data); // selection\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"height\", (d: any) => yScale(d))\n    //   .attr(\"y\", (d: any) => height - yScale(d));\n\n    selection.enter().append(\"rect\").attr(\"x\", (d, i) => i * 45).attr(\"y\", d => height).attr(\"width\", 40).attr(\"height\", 0).attr(\"fill\", \"orange\").transition().duration(1000).attr(\"height\", d => yScale(d)).attr(\"y\", d => height - yScale(d)); // selection\n    //   .exit()\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"y\", (d) => height)\n    //   .attr(\"height\", 0)\n    //   .remove();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default BarChart;","map":{"version":3,"sources":["/Users/samzimmerman/Documents/Apps/Website/src/Weather/Chart.tsx"],"names":["d3","React","useRef","useEffect","BarChart","width","height","data","ref","yScale","scaleLinear","domain","range","svg","select","current","attr","style","call","yAxis","draw","g","axisBottom","ticks","tickSizeOuter","selection","selectAll","enter","append","d","i","transition","duration"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,OAAOC,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA;AAAjB,CAAlB,EAAgD;AAC9C,QAAMC,GAAG,GAAGN,MAAM,CAAC,IAAD,CAAlB;AAEA,MAAIO,MAAM,GAAGT,EAAE,CACZU,WADU,GAEVC,MAFU,CAEH,CAAC,CAAD,EAAI,EAAJ,CAFG,EAGVC,KAHU,CAGJ,CAAC,CAAD,EAAIN,MAAM,GAAG,GAAb,CAHI,CAAb;AAKAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,GAAG,GAAGb,EAAE,CAACc,MAAH,CAAUN,GAAG,CAACO,OAAd,CAAZ;AAEAF,IAAAA,GAAG,CACAG,IADH,CACQ,OADR,EACiBX,KADjB,EAEGW,IAFH,CAEQ,QAFR,EAEkBV,MAFlB,EAGGW,KAHH,CAGS,QAHT,EAGmB,iBAHnB,EAHc,CAOd;AACA;;AACAJ,IAAAA,GAAG,CAACK,IAAJ,CAASC,KAAT;AACD,GAVQ,EAUN,EAVM,CAAT;AAYAhB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,IAAI;AACL,GAFQ,EAEN,CAACb,IAAD,CAFM,CAAT;;AAIA,MAAIY,KAAK,GAAIE,CAAD,IACVA,CAAC,CAACL,IAAF,CAAO,WAAP,EAAqB,eAAcV,MAAM,GAAG,EAAG,GAA/C,EAAmDY,IAAnD,CACElB,EAAE,CACCsB,UADH,CACcb,MADd,EAEGc,KAFH,CAESlB,KAAK,GAAG,EAFjB,EAGGmB,aAHH,CAGiB,CAHjB,CADF,CADF;;AAQA,QAAMJ,IAAI,GAAG,MAAM;AACjB,UAAMP,GAAG,GAAGb,EAAE,CAACc,MAAH,CAAUN,GAAG,CAACO,OAAd,CAAZ;AACA,QAAIU,SAAS,GAAGZ,GAAG,CAACa,SAAJ,CAAc,MAAd,EAAsBnB,IAAtB,CAA2BA,IAA3B,CAAhB,CAFiB,CAIjB;AACA;AACA;AACA;AACA;;AAEAkB,IAAAA,SAAS,CACNE,KADH,GAEGC,MAFH,CAEU,MAFV,EAGGZ,IAHH,CAGQ,GAHR,EAGa,CAACa,CAAD,EAAIC,CAAJ,KAAUA,CAAC,GAAG,EAH3B,EAIGd,IAJH,CAIQ,GAJR,EAIca,CAAD,IAAOvB,MAJpB,EAKGU,IALH,CAKQ,OALR,EAKiB,EALjB,EAMGA,IANH,CAMQ,QANR,EAMkB,CANlB,EAOGA,IAPH,CAOQ,MAPR,EAOgB,QAPhB,EAQGe,UARH,GASGC,QATH,CASY,IATZ,EAUGhB,IAVH,CAUQ,QAVR,EAUmBa,CAAD,IAAYpB,MAAM,CAACoB,CAAD,CAVpC,EAWGb,IAXH,CAWQ,GAXR,EAWca,CAAD,IAAYvB,MAAM,GAAGG,MAAM,CAACoB,CAAD,CAXxC,EAViB,CAuBjB;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GA9BD;;AAgCA,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAErB,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,eAAeJ,QAAf","sourcesContent":["import * as d3 from \"d3\";\nimport React, { useRef, useEffect } from \"react\";\n\nfunction BarChart({ width, height, data }: any) {\n  const ref = useRef(null);\n\n  var yScale = d3\n    .scaleLinear()\n    .domain([0, 60])\n    .range([0, height - 100]);\n\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    svg\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .style(\"border\", \"1px solid black\");\n    // .append(\"g\")\n    // .call(d3.axisRight(yScale));\n    svg.call(yAxis);\n  }, []);\n\n  useEffect(() => {\n    draw();\n  }, [data]);\n\n  let yAxis = (g) =>\n    g.attr(\"transform\", `translate(0,${height - 30})`).call(\n      d3\n        .axisBottom(yScale)\n        .ticks(width / 80)\n        .tickSizeOuter(0)\n    );\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(data);\n\n    // selection\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"height\", (d: any) => yScale(d))\n    //   .attr(\"y\", (d: any) => height - yScale(d));\n\n    selection\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", (d, i) => i * 45)\n      .attr(\"y\", (d) => height)\n      .attr(\"width\", 40)\n      .attr(\"height\", 0)\n      .attr(\"fill\", \"orange\")\n      .transition()\n      .duration(1000)\n      .attr(\"height\", (d: any) => yScale(d))\n      .attr(\"y\", (d: any) => height - yScale(d));\n\n    // selection\n    //   .exit()\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"y\", (d) => height)\n    //   .attr(\"height\", 0)\n    //   .remove();\n  };\n\n  return (\n    <div className=\"chart\">\n      <svg ref={ref}></svg>\n    </div>\n  );\n}\n\nexport default BarChart;\n"]},"metadata":{},"sourceType":"module"}