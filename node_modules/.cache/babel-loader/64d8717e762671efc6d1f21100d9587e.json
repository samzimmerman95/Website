{"ast":null,"code":"var _jsxFileName = \"/Users/samzimmerman/Documents/Apps/Website/src/Weather/Chart.tsx\";\nimport * as d3 from \"d3\";\nimport React, { useRef, useEffect } from \"react\";\n\nfunction BarChart({\n  width,\n  height,\n  data\n}) {\n  const ref = useRef(null);\n  var margin = {\n    top: 20,\n    right: 30,\n    bottom: 30,\n    left: 40\n  };\n  var x = d3.scaleLinear().domain([1601932312, 1604680432]).range([margin.left, width - margin.right]);\n  var y = d3.scaleLinear().domain([50, 90]).range([height - margin.bottom, margin.top]);\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n    svg.attr(\"width\", width).attr(\"height\", height).style(\"border\", \"1px solid black\");\n    svg.append(\"g\").call(yAxis);\n    svg.append(\"g\").call(xAxis);\n  }, []); // useEffect(() => {\n  //   draw();\n  // }, [data]);\n\n  let line = d3.line().x(d => d[0]).y(d => d[1][0]);\n\n  let yAxis = g => g.attr(\"transform\", `translate(${margin.left}, 0)`).call(d3.axisLeft(y)).call(g => g.select(\".domain\").remove()).call(g => g.select(\".tick:last-of-type text\").clone().attr(\"x\", 3).attr(\"text-anchor\", \"start\").attr(\"font-weight\", \"bold\") // .text(data.y))\n  );\n\n  let xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0));\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(data); // selection\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"height\", (d: any) => y(d))\n    //   .attr(\"y\", (d: any) => height - y(d));\n\n    selection.enter().append(\"rect\").attr(\"x\", (d, i) => i * 45 + 45).attr(\"y\", d => height).attr(\"width\", 40).attr(\"height\", 0).attr(\"fill\", \"orange\").transition().duration(1000).attr(\"height\", d => y(d)).attr(\"y\", d => height - y(d)); // selection\n    //   .exit()\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"y\", (d) => height)\n    //   .attr(\"height\", 0)\n    //   .remove();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default BarChart;","map":{"version":3,"sources":["/Users/samzimmerman/Documents/Apps/Website/src/Weather/Chart.tsx"],"names":["d3","React","useRef","useEffect","BarChart","width","height","data","ref","margin","top","right","bottom","left","x","scaleLinear","domain","range","y","svg","select","current","attr","style","append","call","yAxis","xAxis","line","d","g","axisLeft","remove","clone","axisBottom","ticks","tickSizeOuter","draw","selection","selectAll","enter","i","transition","duration"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\nimport React, { useRef, useEffect } from \"react\";\n\nfunction BarChart({ width, height, data }: any) {\n  const ref = useRef(null);\n\n  var margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n  var x = d3\n    .scaleLinear()\n    .domain([1601932312, 1604680432])\n    .range([margin.left, width - margin.right]);\n\n  var y = d3\n    .scaleLinear()\n    .domain([50, 90])\n    .range([height - margin.bottom, margin.top]);\n\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    svg\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .style(\"border\", \"1px solid black\");\n\n    svg.append(\"g\").call(yAxis);\n    svg.append(\"g\").call(xAxis);\n  }, []);\n\n  // useEffect(() => {\n  //   draw();\n  // }, [data]);\n\n  let line = d3\n    .line()\n    .x((d: any) => d[0])\n    .y((d: any) => d[1][0]);\n\n  let yAxis = (g: any) =>\n    g\n      .attr(\"transform\", `translate(${margin.left}, 0)`)\n      .call(d3.axisLeft(y))\n      .call((g: any) => g.select(\".domain\").remove())\n      .call(\n        (g: any) =>\n          g\n            .select(\".tick:last-of-type text\")\n            .clone()\n            .attr(\"x\", 3)\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"font-weight\", \"bold\")\n        // .text(data.y))\n      );\n\n  let xAxis = (g: any) =>\n    g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n      d3\n        .axisBottom(x)\n        .ticks(width / 80)\n        .tickSizeOuter(0)\n    );\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(data);\n\n    // selection\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"height\", (d: any) => y(d))\n    //   .attr(\"y\", (d: any) => height - y(d));\n\n    selection\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", (d, i) => i * 45 + 45)\n      .attr(\"y\", (d) => height)\n      .attr(\"width\", 40)\n      .attr(\"height\", 0)\n      .attr(\"fill\", \"orange\")\n      .transition()\n      .duration(1000)\n      .attr(\"height\", (d: any) => y(d))\n      .attr(\"y\", (d: any) => height - y(d));\n\n    // selection\n    //   .exit()\n    //   .transition()\n    //   .duration(300)\n    //   .attr(\"y\", (d) => height)\n    //   .attr(\"height\", 0)\n    //   .remove();\n  };\n\n  return (\n    <div className=\"chart\">\n      <svg ref={ref}></svg>\n    </div>\n  );\n}\n\nexport default BarChart;\n"]},"metadata":{},"sourceType":"module"}